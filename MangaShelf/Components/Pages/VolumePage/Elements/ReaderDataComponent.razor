@using MangaShelf.DAL.Models
@using System.Security.Claims
@inject IVolumePageLocalizationService Localizer
@inject IVolumeStateService VolumeState
@inject IVolumeService VolumeService
@inject IDialogService Dialog
@inject ILogger<ReaderDataComponent> Logger

@if (VolumeState.CurrentUserStatus != null && VolumeState.CurrentUserStatus.Readings.Any())
{

    <MudPaper Outlined="true" Class="p-3 mb-3 paper-manga-panel">
        <MudItem xs="12">
            <MudText Class="mb-3" Typo="Typo.h5">@Localizer["ReaderData"]</MudText>
            <MudStack AlignItems="AlignItems.Stretch" Spacing="1">
                @foreach (var reading in VolumeState.CurrentUserStatus.Readings)
                {
                    <ReadingHistoryComponent ReadingHistory="@reading" />
                }
            </MudStack>
        </MudItem>
    </MudPaper>
}

@code {
    [Parameter]
    public VolumeDto? Volume { get; set; }
}